############################################
# NAILORA — Spring Boot Application (DEV)
############################################

# ── App
spring.application.name=NAILORA
server.port=8000

# ── DataSource (MySQL 8)
spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/nailora_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Bangkok&useUnicode=true&characterEncoding=UTF-8&connectionCollation=utf8mb4_0900_ai_ci
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ── Timezone / JSON
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Bangkok
spring.jackson.time-zone=Asia/Bangkok

# ── JPA / Hibernate
spring.jpa.hibernate.ddl-auto=create
spring.jpa.open-in-view=false
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ── SQL seed (data.sql)
# รัน seed ทุกครั้งหลังสร้างตาราง (DEV)
spring.sql.init.mode=ALWAYS
spring.jpa.defer-datasource-initialization=true
# (ถ้าไฟล์มีภาษาไทย/อีโมจิและระบบเพี้ยน ให้เปิดบรรทัดนี้)
spring.sql.init.encoding=UTF-8

# ── Thymeleaf
spring.thymeleaf.cache=false

# ── Business Config (อ่านผ่าน AppProps)
app.deposit.percent=0.30
app.deposit.holdSeconds=300
app.refund.cutoffHours=48
app.emergency.window.hours=24
app.reschedule.credit.days=30

# ── Logging (DEV only)
logging.level.org.hibernate.SQL=debug
logging.level.org.hibernate.orm.jdbc.bind=trace

# ── Secrets (Stripe keys, etc.)
spring.config.import=optional:classpath:application-secret.properties
